<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div class="buttons">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>

    <div id="results"></div>

    <script>
        const choices = ["rock", "paper", "scissors"];
        let humanScore = 0;
        let computerScore = 0;
        let humanSelection = "";
        let computerSelection = "";
        let round = 1;

        function getComputerChoice() {
            let number = Math.floor(Math.random() * choices.length);
            return choices[number].toLowerCase();
        }

        function playRound() {
            if (humanSelection === computerSelection) {
                showNeutralMessage();
            } else if (humanSelection === "rock") {
                if (computerSelection === "paper") {
                    ++computerScore;
                    updateResult();
                } else if (computerSelection === "scissors") {
                    ++humanScore;
                    updateResult();
                }

            } else if (humanSelection === "paper") {
                if (computerSelection === "rock") {
                    ++humanScore;
                    updateResult();
                } else if (computerSelection === "scissors"){
                    ++computerScore;
                    updateResult();
                }

            } else if (humanSelection === "scissors") {
                if (computerSelection === "rock") {
                    ++computerScore;
                    updateResult();
                } else if (computerSelection === "paper") {
                    ++humanScore;
                    updateResult();
                }
            }
        }

        function updateResult() {
            result.innerHTML = `Computer: ${computerScore} <br>
            Player: ${humanScore} <br>
            Round: ${round}` ;
            round++;
            console.log(round);
        }

        function showNeutralMessage() {
            result.textContent = "Incredible, it was tied!";
            updateResult();
        }

        function showWinner() {
            if (humanScore > computerScore) {
                result.textContent = "Congratulations! You won! ";
            } else if (computerScore > humanScore) {
                result.textContent = "Oh no! Computer won!";
            } else {
                result.textContent = "Great! It was tied! ";
            }
        }

        function handleClick(event) {
            humanSelection = event.target.textContent.toLowerCase();
            computerSelection = getComputerChoice();

            if (round === 5) {
                playRound();
                showWinner();
            } else if (round < 6) {
                playRound();
            } 
            //console.log(`Human: ${humanSelection} Computer: ${computerSelection}`)
        }

        // const rockChoice = document.getElementById(rock);
        // const paperChoice = document.getElementById(paper);
        // const scissorsChoice = document.getElementById(scissors);
        const buttons = document.querySelectorAll(".buttons");
        const result = document.getElementById("results")

        buttons.forEach(button => {
            button.addEventListener("click", handleClick);
        })

    </script>
    
</body>
</html>